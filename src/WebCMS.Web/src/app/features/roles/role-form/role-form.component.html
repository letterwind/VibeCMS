<form [formGroup]="form" (ngSubmit)="onSubmit()">
  <div class="mb-3">
    <label for="name" class="form-label"
      >{{ "role.name" | translate }} <span class="text-danger">*</span></label
    >
    <input
      type="text"
      class="form-control"
      id="name"
      formControlName="name"
      maxlength="50"
      [class.is-invalid]="isFieldInvalid('name')"
    />
    <div class="form-text">
      {{ "validation.maxCharacters" | translate: [50] }}
    </div>
    <app-validation-error
      [control]="form.get('name')"
      [fieldName]="'role.name' | translate"
    >
    </app-validation-error>
  </div>

  <div class="mb-3">
    <label for="description" class="form-label">{{
      "label.description" | translate
    }}</label>
    <textarea
      class="form-control"
      id="description"
      formControlName="description"
      rows="3"
      maxlength="200"
      [class.is-invalid]="isFieldInvalid('description')"
    >
    </textarea>
    <div class="form-text">
      {{ "validation.maxCharacters" | translate: [200] }}
    </div>
    <app-validation-error
      [control]="form.get('description')"
      [fieldName]="'label.description' | translate"
    >
    </app-validation-error>
  </div>

  <div class="mb-3">
    <label for="hierarchyLevel" class="form-label"
      >{{ "role.hierarchyLevel" | translate }}
      <span class="text-danger">*</span></label
    >
    <input
      type="number"
      class="form-control"
      id="hierarchyLevel"
      formControlName="hierarchyLevel"
      min="1"
      [class.is-invalid]="isFieldInvalid('hierarchyLevel')"
    />
    <div class="form-text">
      {{ "role.hierarchyLevelHint" | translate }}
    </div>
    <app-validation-error
      [control]="form.get('hierarchyLevel')"
      [fieldName]="'role.hierarchyLevel' | translate"
      [customMessages]="{
        min: languageService.getTranslation('role.hierarchyLevelMin'),
      }"
    >
    </app-validation-error>
  </div>

  <div class="d-flex justify-content-end gap-2 mt-4">
    <button type="button" class="btn btn-secondary" (click)="onCancel.emit()">
      {{ "common.cancel" | translate }}
    </button>
    <button
      type="submit"
      class="btn btn-primary"
      [disabled]="form.invalid || isSubmitting"
    >
      @if (isSubmitting) {
        <span class="spinner-border spinner-border-sm me-1"></span>
      }
      {{
        isEditing ? ("label.update" | translate) : ("label.create" | translate)
      }}
    </button>
  </div>
</form>
